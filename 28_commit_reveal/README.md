# Commit Reveal
Паттерн в блокчейне. Используется при необходимости временного приватного хранения данных в контракте. Паттерн состоит из двух фаз: commit и review.
В фазу commit - пользователи могу отправлять свои голоса в контракт. Эти данные будут хранится закодированно.
В фазу reveal - например при наступлении некоторого события, данные будут декодированны и станут публичны для всех участников.

Паттерн рассмотрен на примере голосования за кандидатов.

`commitVote()` - записать голос
`revealVote()` - раскрыть голос

# Notes
Данные о голосе на front будут хешированы через keccak256(abi.encodePacked())
// address - кандадат
// bytes32 - секрет пользователя (ключевое слово для повышения надежности hash)
// address - автог голоса
В данном случае через hardhat console хешируем вызовом ethers.utils.solidityKeccak256([], []))

`ethers.utils.formatBytes32String('secret')` - для упаковки секрета пользователя в bytes32

```
> ethers.utils.formatBytes32String('secret')
'0x7365637265740000000000000000000000000000000000000000000000000000'

// формируем данные для хранения голоса пользователя
> ethers.utils.solidityKeccak256(['address', 'bytes32', 'address'], ['0x4Fabb145d64652a948d72533023f6E7A623C7C53', '0x7365637265740000000000000000000000000000000000000000000000000000', '0x5B38Da6a701c568545dCfcB03FcB875f56beddC4'])
'0x893e8877732536ee0d8d6643f83863fa374781deeda9a3328cf6ff4be6df45bc'
```

# Links
- https://www.youtube.com/watch?v=FmoQe2J3UXs
- https://gitcoin.co/blog/commit-reveal-scheme-on-ethereum/